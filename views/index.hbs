<h1>
    METEO
</h1>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-6 my-3">
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" id="inputCity">
                    </div>
                    <button type="submit" class="btn btn-info btn-block">
                        Recherche
                    </button>
                </form>
            </div>

            <div class="col-12 col-sm-6 d-flex justify-content-center my-3">
                <div class="box-container">
                    <div id="city" class="box"></div>
                    <div id="temp" class="box"></div>
                    <div id="humidity" class="box"></div>
                    <div id="wind" class="box"></div>
                </div>
            </div>
        </div>
    </div>

<script>

const APIKEY = `93d9891b68484cb9a8d381200d006d44`

let apicall = function(city) {
    let url = `https://https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&lang=fr&appid=${APIKEY}`
    ;

    fetch(url)
        .then((response) => 
        response.json().then((data) => {
            console.log(data);
            document.querySelector(`#city`).innerHTML = data.name;
            document.querySelector(`#temp`).innerHTML =
                "<i class=`fas fa-thermometer-half`></i>" + data.main.temp + `Â°`;
            document.querySelector(`#humidity`).innerHTML =
                "<i class=`fas fa-tint`></i>" + data.main.humidity + `%`;
            document.querySelector(`#wind`).innerHTML =
                "<i class=`fas fa-wind`></i>" + data.main.speed + `km/h`;
        })
    )
    .catch((err) => console.log(`Erreur : ` + err));
};

/*Ecouteur d'evenement sur la soumission du formulaire*/
document.querySelector(`form`).addEventListener(`submit`, function (e) {
    e.preventDefault();
    let ville = document.querySelector(`#inputCity`).value;

    apiCall(ville);

})


</script>


